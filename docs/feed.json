[


  
    
    {
      "title": "Standing up Sigstore locally",
      "permalink": "https://flxw.de/standing-up-sigstore-locally.html",
      "link": "https://flxw.de/standing-up-sigstore-locally.html",
      "date": "2022-11-10T00:00:00+01:00",
      
        "modified": "2022-11-11T16:21:05+01:00",
      
      "author": {
        "name": "Felix Wolff",
        "url": "https://flxw.de/",
        "email": "wolff.felix@proton.me"
      },
      "content": "<p>In this post, I describe steps on how to stand up a Sigstore deployment on your Kubernetes cluster,\nadding detail and background information where I feel that it is needed.\nThe post is aimed at the early adopter of the project who is roughly familiar with how Sigstore works internally.\nIf you follow right through to the end, you will have a working Sigstore deployment on your machine - \nusable in the same manner as you would a remote deployment.</p>\n\n<p>As usual, I stand on the shoulders of giants, as I have benefitted a lot from\n<a href=\"https://github.com/sigstore/scaffolding/blob/main/getting-started.md\">other</a>\n<a href=\"https://sthw.decodebytes.sh/\">earlier</a>\n<a href=\"https://blog.sigstore.dev/scaffolding-sigstore-e893eb962f22\">articles</a> on this subject out there.\nI hope that this updated version of a setup guide helps with getting up to speed with Sigstore quickly.</p>\n\n<p>All you need to follow along is a working Docker installation on your machine, and Internet connectivity.\nThroughout the next steps, I will sometimes refer to files that aren’t printed out here.\nYou can find them in this repository: <a href=\"https://github.com/flxw/sigstore-local-setup\">flxw/sigstore-local-setup</a>.</p>\n\n<h1 id=\"step-1-set-up-kind-and-ingress\">Step 1: Set up KinD and Ingress</h1>\n<p>Now, we set up our Kubernetes cluster, using kind.\nI find it to be an awesome tool for quickly prototyping and testing clusters.\nIf you are unfamiliar with it, here’s the description from their <a href=\"https://kind.sigs.k8s.io/\">website</a>.\nKind is a shorthand for <em>Kubernetes in docker</em>:</p>\n\n<blockquote>\n  <p>kind is a tool for running local Kubernetes clusters using Docker container “nodes”.\nkind was primarily designed for testing Kubernetes itself, but may be used for local development or CI.</p>\n</blockquote>\n\n<p>Along with the cluster, we shall also set up an nginx ingress, in line with the <a href=\"https://kind.sigs.k8s.io/docs/user/ingress/#ingress-nginx\">official instructions</a>:</p>\n\n<div class=\"language-bash highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"c\">#!/bin/bash</span>\nbrew <span class=\"nb\">install </span>kind <span class=\"c\"># only for brew users ;)</span>\nkind create cluster <span class=\"nt\">--name</span> kind-for-helm <span class=\"nt\">--config</span><span class=\"o\">=</span>kind-cluster-config.yaml\nkubectl apply <span class=\"nt\">-f</span> https://raw.githubusercontent.com/kubernetes/ingress-nginx/main/deploy/static/provider/kind/deploy.yaml\n</code></pre></div></div>\n\n<h1 id=\"step-20-install-sigstore\">Step 2.0: Install Sigstore</h1>\n\n<p>After checking that our cluster and ingress are ready, we can install the bulk of Sigstore via <a href=\"https://helm.sh\">helm</a>:</p>\n\n<div class=\"language-bash highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"c\">#!/bin/bash</span>\nhelm repo add sigstore https://sigstore.github.io/helm-charts\nhelm upgrade <span class=\"se\">\\</span>\n    <span class=\"nt\">-i</span> scaffold <span class=\"se\">\\</span>\n    sigstore/scaffold <span class=\"se\">\\</span>\n    <span class=\"nt\">-n</span> sigstore <span class=\"se\">\\</span>\n    <span class=\"nt\">--create-namespace</span> <span class=\"se\">\\</span>\n    <span class=\"nt\">--values</span> scaffold-values.yaml\n</code></pre></div></div>\n\n<p>This <code class=\"language-plaintext highlighter-rouge\">scaffold</code> chart bundles individual charts for most of the Sigstore services: fulcio, rekor, ctlog, trillian, and TUF with an underlying MySQL database.\nAdditionally, it generates all of the required signing keys as secrets, configmaps, services, and ingresses.</p>\n\n<h1 id=\"step-3-certificate-chain-and-domains\">Step 3: Certificate chain and domains</h1>\n<p>To make Sigstore clients work with the cluster, you need to generate a chain of certificates with a self-signed root.\nYou then need to add the root certificate to your OS’s trust store.\nAlternatively, you can work with independent certificates, but I find it easier to add only one certificate to the trust store.\nFinally, you need to add four entries to your <code class=\"language-plaintext highlighter-rouge\">/etc/hosts</code> file.</p>\n\n<div class=\"language-bash highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"c\">#!/bin/sh</span>\n<span class=\"c\"># create a self-signed CA certificate (add ca.cert.pem to trust store and configure explicit trust)</span>\nopenssl req <span class=\"nt\">-x509</span> <span class=\"nt\">-newkey</span> rsa:4096 <span class=\"nt\">-keyout</span> ca.private.pem <span class=\"nt\">-out</span> ca.cert.pem <span class=\"nt\">-sha256</span> <span class=\"nt\">-days</span> 365 <span class=\"nt\">-nodes</span>\n\n<span class=\"k\">for </span>service_name <span class=\"k\">in </span>rekor fulcio tuf<span class=\"p\">;</span> <span class=\"k\">do\n    </span><span class=\"nb\">cat</span> <span class=\"o\">&lt;&lt;</span> <span class=\"no\">EOF</span><span class=\"sh\"> &gt; </span><span class=\"nv\">$service_name</span><span class=\"sh\">.cert.ext\nauthorityKeyIdentifier=keyid,issuer\nbasicConstraints=CA:FALSE\nkeyUsage = digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment\nsubjectAltName = @alt_names\n\n[alt_names]\nDNS.1 = </span><span class=\"nv\">$service_name</span><span class=\"sh\">.sigstore.local\n</span><span class=\"no\">EOF\n\n</span>    openssl req <span class=\"nt\">-new</span> <span class=\"nt\">-newkey</span> rsa:4096 <span class=\"se\">\\</span>\n        <span class=\"nt\">-keyout</span> <span class=\"nv\">$service_name</span>.private.pem <span class=\"se\">\\</span>\n        <span class=\"nt\">-out</span> <span class=\"nv\">$service_name</span>.req.pem <span class=\"nt\">-nodes</span>\n\n    openssl x509 <span class=\"nt\">-req</span> <span class=\"nt\">-in</span> <span class=\"nv\">$service_name</span>.req.pem <span class=\"se\">\\</span>\n        <span class=\"nt\">-days</span> 365 <span class=\"nt\">-CA</span> ca.cert.pem <span class=\"nt\">-CAkey</span> ca.private.pem <span class=\"se\">\\</span>\n        <span class=\"nt\">-CAcreateserial</span> <span class=\"nt\">-out</span> <span class=\"nv\">$service_name</span>.signed.cert.pem <span class=\"se\">\\</span>\n        <span class=\"nt\">-extfile</span> <span class=\"nv\">$service_name</span>.cert.ext\n\n    kubectl create secret tls <span class=\"nv\">$service_name</span><span class=\"nt\">-system</span> <span class=\"se\">\\</span>\n        <span class=\"nt\">--namespace</span><span class=\"o\">=</span><span class=\"nv\">$service_name</span><span class=\"nt\">-system</span> <span class=\"se\">\\</span>\n        <span class=\"nt\">--cert</span><span class=\"o\">=</span><span class=\"nv\">$service_name</span>.signed.cert.pem <span class=\"se\">\\</span>\n        <span class=\"nt\">--key</span><span class=\"o\">=</span><span class=\"nv\">$service_name</span>.private.pem\n<span class=\"k\">done\n\n</span><span class=\"nb\">cat</span> <span class=\"o\">&lt;&lt;</span><span class=\"no\">EOF</span><span class=\"sh\"> &gt;&gt; /etc/hosts\n127.0.0.1 fulcio.sigstore.local\n127.0.0.1 rekor.sigstore.local \n127.0.0.1 tuf.sigstore.local\n127.0.0.1 registry.local\n</span><span class=\"no\">EOF\n</span></code></pre></div></div>\n\n<h1 id=\"step-4-cosign-initialization\">Step 4: Cosign initialization</h1>\n<p>Out of the box, <code class=\"language-plaintext highlighter-rouge\">cosign</code> is configured to work with the public infrastructure.\nHence, we need to tell it about the certificates used in our cluster.\nTo do that, tuf compiles a JSON file that needs to be extracted from the cluster.\nIt only needs to be used once for every initialization.</p>\n\n<div class=\"language-bash highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"c\">#!/bin/bash</span>\nkubectl <span class=\"nt\">-n</span> tuf-system get secrets tuf-root <span class=\"nt\">-ojsonpath</span><span class=\"o\">=</span><span class=\"s1\">'{.data.root}'</span> <span class=\"se\">\\</span>\n    | <span class=\"nb\">base64</span> <span class=\"nt\">-d</span> <span class=\"o\">&gt;</span> root.json\ncosign initialize <span class=\"nt\">--root</span> root.json <span class=\"nt\">--mirror</span> https://tuf.sigstore.local\n</code></pre></div></div>\n\n<h1 id=\"step-5-test\">Step 5: Test</h1>\n\n<p>From now on, it’s just testing and enjoying what you have built. :)\nIn our test, we shall put a container into a locally running registry and sign it.\nAfterward, we shall verify it.</p>\n\n<div class=\"language-bash highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"c\">#!/bin/bash</span>\n\n<span class=\"c\"># First, we'll spin up the local registry</span>\ndocker run <span class=\"nt\">-d</span> <span class=\"se\">\\</span>\n    <span class=\"nt\">--restart</span><span class=\"o\">=</span>always <span class=\"se\">\\</span>\n    <span class=\"nt\">-p</span> 5000:5000 <span class=\"se\">\\</span>\n    <span class=\"nt\">--name</span> registry.local <span class=\"se\">\\</span>\n    registry:2\n\n<span class=\"c\"># Second, a test container is created</span>\n<span class=\"c\"># Make sure you have go installed for this</span>\n<span class=\"nv\">KO_DOCKER_REPO</span><span class=\"o\">=</span>registry.local:5000/sigstore\n<span class=\"nb\">pushd</span> <span class=\"si\">$(</span><span class=\"nb\">mktemp</span> <span class=\"nt\">-d</span><span class=\"si\">)</span>\ngo mod init example.com/demo\n<span class=\"nb\">cat</span> <span class=\"o\">&lt;&lt;</span><span class=\"no\">EOF</span><span class=\"sh\"> &gt; main.go\npackage main\nimport \"fmt\"\nfunc main() {\n   fmt.Println(\"hello world\")\n}\n</span><span class=\"no\">EOF\n</span><span class=\"nb\">export </span><span class=\"nv\">IMAGE</span><span class=\"o\">=</span><span class=\"sb\">`</span>ko publish <span class=\"nt\">-B</span> example.com/demo<span class=\"sb\">`</span>\n<span class=\"nb\">echo</span> <span class=\"s2\">\"Created image </span><span class=\"nv\">$IMAGE</span><span class=\"s2\">\"</span>\n<span class=\"nb\">popd</span>\n\n<span class=\"c\"># Third, we shall sign the container</span>\n<span class=\"nv\">REKOR_URL</span><span class=\"o\">=</span>https://rekor.sigstore.local\n<span class=\"nv\">FULCIO_URL</span><span class=\"o\">=</span>https://fulcio.sigstore.local\n<span class=\"nb\">export </span><span class=\"nv\">COSIGN_EXPERIMENTAL</span><span class=\"o\">=</span>1\n\n<span class=\"c\"># add --verbose if you are curious ;)</span>\ncosign sign <span class=\"se\">\\</span>\n  <span class=\"nt\">--fulcio-url</span><span class=\"o\">=</span><span class=\"nv\">$FULCIO_URL</span> <span class=\"se\">\\</span>\n  <span class=\"nt\">--rekor-url</span><span class=\"o\">=</span><span class=\"nv\">$REKOR_URL</span> <span class=\"se\">\\</span>\n  <span class=\"nt\">--force</span> <span class=\"se\">\\</span>\n  <span class=\"nt\">--allow-insecure-registry</span> <span class=\"se\">\\</span>\n  <span class=\"nv\">$IMAGE</span>\n\n<span class=\"c\"># Fourth and last - signature verification!</span>\ncosign verify <span class=\"se\">\\</span>\n    <span class=\"nt\">--allow-insecure-registry</span> <span class=\"se\">\\</span>\n    <span class=\"nt\">--rekor-url</span><span class=\"o\">=</span>https://rekor.sigstore.local <span class=\"se\">\\</span>\n    <span class=\"nv\">$IMAGE</span>\n</code></pre></div></div>\n\n<p>Congratulations - you have now mastered the deployment of Sigstore on your machine!\nRunning such a setup in production is a bit more complex,\nand we are currently hard at work documenting the efforts involved.\nIf you’re curious about what’s next and how to help, read on in the next section.</p>\n\n<h1 id=\"getting-involved\">Getting involved</h1>\n<p>This is the shortest and fastest way to set up Sigstore I know - until now!\nThe Sigstore project is just getting started, and there are tons of ways to <a href=\"https://docs.sigstore.dev/contributing\">contribute</a>.\nYou can meet me and many others in the Sigstore Slack channel <code class=\"language-plaintext highlighter-rouge\">private-sigstore-users</code>, putting together a manual for operating a deployment for a longer duration.</p>\n\n<p>This is a living document, and I’ll edit it in the future to include DEX as an OIDC token forwarder.</p>",
      "excerpt": "In this post, I describe steps on how to stand up a Sigstore deployment on your Kubernetes cluster,\nadding detail and background information where I feel that it is needed.\nThe post is aimed at the early adopter of the project who is roughly familiar with how Sigstore works internally.\nIf you follow right through to the end, you will have a working Sigstore deployment on your machine - \nusable in the same manner as you would a remote deployment.",
      "languages": null,
      "categories": [],
      "tags": ["sscs"]
    }
    
  

  
    ,
    {
      "title": "Oneliner: External secret decoding",
      "permalink": "https://flxw.de/external-secret-encoding.html",
      "link": "https://flxw.de/external-secret-encoding.html",
      "date": "2022-11-04T00:00:00+01:00",
      
        "modified": "2022-11-04T17:34:47+01:00",
      
      "author": {
        "name": "Felix Wolff",
        "url": "https://flxw.de/",
        "email": "wolff.felix@proton.me"
      },
      "content": "<p>If you use <code class=\"language-plaintext highlighter-rouge\">external-secrets</code> to sync secrets from some a key management\nsystem like AWS KMS or Vault into your cluster,\nyou have become familiar with the <code class=\"language-plaintext highlighter-rouge\">ExternalSecret</code> object introduced by it.</p>\n\n<p>In case you want to sync a secret that has multiple lines,\nyou need to encode the secret <em>inside</em> your KMS,\nand decode it inside the <code class=\"language-plaintext highlighter-rouge\">ExternalSecret</code> using a <code class=\"language-plaintext highlighter-rouge\">decodingStrategy</code>.\nThe values will be base64-encoded again by k8s when the <code class=\"language-plaintext highlighter-rouge\">Secret</code> gets created.</p>\n\n<p>An example would as follows (taken from <a href=\"https://external-secrets.io/v0.6.1/guides/decoding-strategy/\">here</a>):</p>\n<div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>KMS secret value: aGFwcHkgc3RyZWV0\nExternalSecret decodes it: happy street\nk8s Secret data: aGFwcHkgc3RyZWV0\nApplication reads: happy street\n</code></pre></div></div>\n\n<p>Please see the following object definition for a complete definition:</p>\n<div class=\"language-yaml highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"na\">apiVersion</span><span class=\"pi\">:</span> <span class=\"s\">external-secrets.io/v1beta1</span>\n<span class=\"na\">kind</span><span class=\"pi\">:</span> <span class=\"s\">ExternalSecret</span>\n<span class=\"na\">metadata</span><span class=\"pi\">:</span>\n  <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">your-access-credentials</span>\n<span class=\"na\">spec</span><span class=\"pi\">:</span>\n  <span class=\"na\">refreshInterval</span><span class=\"pi\">:</span> <span class=\"s\">1m</span>\n  <span class=\"na\">secretStoreRef</span><span class=\"pi\">:</span>\n    <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">cluster-secrets-store</span>\n    <span class=\"na\">kind</span><span class=\"pi\">:</span> <span class=\"s\">ClusterSecretStore</span>\n  <span class=\"na\">target</span><span class=\"pi\">:</span>\n    <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">your-access-credentials</span>\n  <span class=\"na\">dataFrom</span><span class=\"pi\">:</span>\n  <span class=\"pi\">-</span> <span class=\"na\">extract</span><span class=\"pi\">:</span>\n      <span class=\"na\">key</span><span class=\"pi\">:</span> <span class=\"s\">svc/app/secret</span>\n      <span class=\"na\">decodingStrategy</span><span class=\"pi\">:</span> <span class=\"s\">Base64</span>\n</code></pre></div></div>\n\n<p>Note the colon that seperates the filepaths in <code class=\"language-plaintext highlighter-rouge\">KUBECONFIG</code> - you can pass in more than one file.</p>",
      "excerpt": "If you use external-secrets to sync secrets from some a key management\nsystem like AWS KMS or Vault into your cluster,\nyou have become familiar with the ExternalSecret object introduced by it.",
      "languages": null,
      "categories": ["blog"],
      "tags": ["oneliner"]
    }
    
  

  
    ,
    {
      "title": "No silver bullet: Cloud computing",
      "permalink": "https://flxw.de/cloud-computing-isnt-the-silver-bullet.html",
      "link": "https://flxw.de/cloud-computing-isnt-the-silver-bullet.html",
      "date": "2022-11-03T00:00:00+01:00",
      
        "modified": "2022-11-03T10:08:22+01:00",
      
      "author": {
        "name": "Felix Wolff",
        "url": "https://flxw.de/",
        "email": "wolff.felix@proton.me"
      },
      "content": "<p>As companies re-evaluate their supply chains, they tend to turn a blind eye\non partially massive vendor lock-ins with their cloud providers.\nHere’s a great post from a company that had their product in the cloud,\nand is moving it back into their own data center now:</p>\n\n<p>[https://world.hey.com/dhh/why-we-re-leaving-the-cloud-654b47e0]</p>\n\n<p>I award bonus points for thinking about power distribution on the Internet :)</p>",
      "excerpt": "As companies re-evaluate their supply chains, they tend to turn a blind eye\non partially massive vendor lock-ins with their cloud providers.\nHere’s a great post from a company that had their product in the cloud,\nand is moving it back into their own data center now:",
      "languages": null,
      "categories": ["blog"],
      "tags": []
    }
    
  

  
    ,
    {
      "title": "Codeberg",
      "permalink": "https://flxw.de/codeberg-a-github-alternative-from-europe.html",
      "link": "https://flxw.de/codeberg-a-github-alternative-from-europe.html",
      "date": "2022-10-25T00:00:00+02:00",
      
        "modified": "2022-10-25T21:47:03+02:00",
      
      "author": {
        "name": "Felix Wolff",
        "url": "https://flxw.de/",
        "email": "wolff.felix@proton.me"
      },
      "content": "<p>When I started getting into computers in 2010, GitHub was not yet owned by Microsoft,\nand had several contenders:\nself-hosted gits, SourceForge, SVN and especially Gitorious.\nI remember really liking Gitorious.</p>\n\n<p>Well, that was over ten years ago, and now git and GitHub reign supreme.\nGitLab is the notable exception.</p>\n\n<p>I was very excited to learn that an alternative to GitHub is forming on my continent - Europe!\nIt’s called <a href=\"https://codeberg.org\">Codeberg</a>.\nI found it via <a href=\"https://ruky.me/2022/10/17/codeberg-a-github-alternative-from-europe/\">this blog post</a>,\nand immediately created an <a href=\"https://codeberg.org/flxw\">account</a>.</p>\n\n<p>In the wake of how GitHub handled OSS licenses with Copilot,\nI will start exploring the platform in the next weeks and write about it.</p>",
      "excerpt": "When I started getting into computers in 2010, GitHub was not yet owned by Microsoft,\nand had several contenders:\nself-hosted gits, SourceForge, SVN and especially Gitorious.\nI remember really liking Gitorious.",
      "languages": null,
      "categories": ["blog"],
      "tags": []
    }
    
  

  
    ,
    {
      "title": "Oneliner: Merge kubectl configs",
      "permalink": "https://flxw.de/merge-kube-configurations.html",
      "link": "https://flxw.de/merge-kube-configurations.html",
      "date": "2022-10-14T00:00:00+02:00",
      
        "modified": "2022-11-04T17:34:47+01:00",
      
      "author": {
        "name": "Felix Wolff",
        "url": "https://flxw.de/",
        "email": "wolff.felix@proton.me"
      },
      "content": "<p>Today’s oneliner is for merging two kubectl configuration files into one.\nThis can be useful when creating new clusters and exchanging small config files with your colleagues:</p>\n\n<div class=\"language-bash highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"nb\">export </span><span class=\"nv\">KUBECONFIG</span><span class=\"o\">=</span>~/.kube/config.old:~/cluster\n<span class=\"nb\">mv</span> ~/.kube/config ~/.kube/config.old\nkubectl config view <span class=\"nt\">--flatten</span> <span class=\"o\">&gt;</span> ~/.kube/config\n</code></pre></div></div>\n\n<p>Note the colon that seperates the filepaths in <code class=\"language-plaintext highlighter-rouge\">KUBECONFIG</code> - you can pass in more than one file.</p>",
      "excerpt": "Today’s oneliner is for merging two kubectl configuration files into one.\nThis can be useful when creating new clusters and exchanging small config files with your colleagues:",
      "languages": null,
      "categories": ["blog"],
      "tags": ["oneliner"]
    }
    
  

  
    ,
    {
      "title": "What the patch?!",
      "permalink": "https://flxw.de/what-the-patch.html",
      "link": "https://flxw.de/what-the-patch.html",
      "date": "2021-06-16T00:00:00+02:00",
      
        "modified": "2022-10-22T15:52:11+02:00",
      
      "author": {
        "name": "Felix Wolff",
        "url": "https://flxw.de/",
        "email": "wolff.felix@proton.me"
      },
      "content": "<p>At work I deal with Kubernetes and kustomize on a daily basis.\nToday I have pulled my hair about how I could patch a value in a job that was included in the base kustomization.\nI knew that there were several ways to do it, and I realized that I could not tell the difference between <code class=\"language-plaintext highlighter-rouge\">patches</code>, <code class=\"language-plaintext highlighter-rouge\">patchesJson6902</code> and <code class=\"language-plaintext highlighter-rouge\">patchesStrategicMerge</code>.</p>\n\n<p>It turns out that the three directives can be regarded as variations of the same patching mechanism.\nThey differ in terms of customizability, and hence the number of things you can do (and break) with them.\nTo me, the hierarchy feels as follows, starting with the least versatile and powerful directive:</p>\n<ol>\n  <li><code class=\"language-plaintext highlighter-rouge\">patchesStrategicMerge</code></li>\n  <li><code class=\"language-plaintext highlighter-rouge\">patchesJson6902</code></li>\n  <li><code class=\"language-plaintext highlighter-rouge\">patches</code></li>\n</ol>\n\n<hr />\n\n<p>Why is <code class=\"language-plaintext highlighter-rouge\">patchesStrategicMerge</code> the least powerful and versatile?\nBecause it’s simple! Try to use it, the reviewers will be thankful.</p>\n\n<p>Check the <a href=\"https://github.com/kubernetes-sigs/cli-experimental/blob/e8661e62fbff9bb41703e663c5d6f9730f121a16/site/content/en/references/kustomize/kustomization/patchesStrategicMerge/_index.md\">documentation here</a>.\nIt tells us that <em>each patch should be either a relative file path or an inline content resolving to a partial or complete resource definition</em>. \nThat means these patches do what we are used to from git, for example. \nThey patch a single thing, so are ideal for correcting environment variables, names, paths, and the likes.</p>\n\n<hr />\n\n<p>It turns out that the <code class=\"language-plaintext highlighter-rouge\">patchJson6902</code> directive is an older keyword, that must also target a specific resource,\nbut can deliver more complex operations on the patch target.\nThese operations are specified in the JSON6902 format, hence the name.\nThe actual patch is delivered via JSON (but can also be YAML), for instance like below.\nMore examples can be found in the <a href=\"https://github.com/kubernetes-sigs/cli-experimental/blob/e8661e62fbff9bb41703e663c5d6f9730f121a16/site/content/en/references/kustomize/kustomization/patchesjson6902/_index.md\">documentation</a>.</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-json\" data-lang=\"json\"><span class=\"p\">[</span><span class=\"w\">\n  </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"nl\">\"op\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"remove\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"path\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"/spec/template/spec/containers/0/env/0/valueFrom\"</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n  </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"nl\">\"op\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"add\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"path\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"/spec/template/spec/containers/0/env/0/value\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"value\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"SOMEVALUE\"</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\">\n</span><span class=\"p\">]</span></code></pre></figure>\n\n<p>Finally, the <code class=\"language-plaintext highlighter-rouge\">patches</code> directive is the new shiny swiss army knife.\nIt needs a target, too, but the target can be a <em>regex</em>.\nThe patch instructions are delivered in the JSON6902 format introduced above.\nIn short, this directive allows you to patch multiple targets using complex operations all in a single directive.\nTruly powerful, and truly tricky to review.\nYou can find the <a href=\"https://github.com/kubernetes-sigs/cli-experimental/blob/e8661e62fbff9bb41703e663c5d6f9730f121a16/site/content/en/references/kustomize/kustomization/patches/_index.md\">whole documention for this directive here</a>.</p>\n\n<h3 id=\"sources\">Sources</h3>\n<ul>\n  <li>https://github.com/kubernetes-sigs/kustomize/issues/2705</li>\n  <li>https://stackoverflow.com/questions/63604579/what-is-the-difference-between-patches-vs-patchesjson6902-in-kustomize</li>\n</ul>",
      "excerpt": "At work I deal with Kubernetes and kustomize on a daily basis.\nToday I have pulled my hair about how I could patch a value in a job that was included in the base kustomization.\nI knew that there were several ways to do it, and I realized that I could not tell the difference between patches, patchesJson6902 and patchesStrategicMerge.",
      "languages": null,
      "categories": ["blog"],
      "tags": []
    }
    
  

  
    ,
    {
      "title": "A beancount tutorial and framework",
      "permalink": "https://flxw.de/a-beancount-tutorial-and-framework.html",
      "link": "https://flxw.de/a-beancount-tutorial-and-framework.html",
      "date": "2021-02-28T00:00:00+01:00",
      
        "modified": "2022-10-22T15:52:11+02:00",
      
      "author": {
        "name": "Felix Wolff",
        "url": "https://flxw.de/",
        "email": "wolff.felix@proton.me"
      },
      "content": "<p>As a financially avid reader, I am sure that you can roughly say how much money you need for a month.\nYou can assist your gut feeling with tools like Kmymoney, Homebank, GnuCash et al. to know exactly how much it is that you spend and earn per month.\nHowever, the aforementioned tools have a common shortcoming, at least in my opinion:\nThey use different data formats to store data.\nIf the software reaches end of life, you could lose months or even years of transactional data because you might not be able to extract it from the old storage format.</p>\n\n<p>Enter <a href=\"https://plaintextaccounting.org/\">Plain Text Accounting</a> (PTA).\nA text file will store your transactions using a well-defined format.\nNo matter what happens to the analytics software, you will always be able to manipulate and convert from text - solving the problem above.</p>\n\n<p>PTA tools tend to be designed for the command line, which can be somewhat counter-intuitive if you expect graphs and visualizations of the GUI tools.\nIn this article I will show you how to easily work with <a href=\"https://beancount.github.io/\">beancount</a> and visualize your numbers nicely.</p>\n\n<h1 id=\"directory-setup\">Directory setup</h1>\n<p>First, you install <a href=\"https://beancount.github.io/\">beancount</a> from any source that works for your system.</p>\n\n<p>Second, create a file and folder structure like so:</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-shell\" data-lang=\"shell\">importers/\nraw/\nmain.beancount\nimport.config</code></pre></figure>\n\n<p>Third, open <code class=\"language-plaintext highlighter-rouge\">main.beancount</code> and open some accounts. You can use <a href=\"https://docs.google.com/document/d/1Tss0IEzEyAPuKSGeNsfNgb0BfiW2ZHyP5nCFBW1uWlk\">this article</a> as a guide. It doesn’t have to be perfect from the start, you can always retry.</p>\n\n<p>Fourth, create folders for your bank accounts inside <code class=\"language-plaintext highlighter-rouge\">raw</code> and create empty beanfiles for them.</p>\n\n<p>Fifth, use the <code class=\"language-plaintext highlighter-rouge\">include</code> command inside <code class=\"language-plaintext highlighter-rouge\">main.beancount</code> to pull in the account-specific beanfiles your just created.</p>\n\n<p>If you’re like me, you have two accounts where money shuttle back and forth. Then you would have a folder structure similar to the following:</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-shell\" data-lang=\"shell\">import.config\nimporters/\nmain.beancount\nn26.beancount\nsparkasse.beancount\nraw\n ├── N26\n └── Sparkasse               </code></pre></figure>\n\n<h1 id=\"importer-setup\">Importer setup</h1>\n<p>As mentioned in the introduction, I perceive the big strength of PTA that you can process anything.\nFor this job, beancount offers a so-called <a href=\"https://beancount.github.io/docs/importing_external_data.html#example-importers\">Importer API</a>.\nYou can either write your own Python importer or copy and expand on one from Github.\nI used the following two in my projects:</p>\n<ul>\n  <li>https://gitlab.hasi.it/seth/beancount-csv-camt</li>\n  <li>https://github.com/siddhantgoel/beancount-n26</li>\n</ul>\n\n<p>Either install the importer via <code class=\"language-plaintext highlighter-rouge\">pip</code> or make it importable for Python from the <code class=\"language-plaintext highlighter-rouge\">importers/</code> directory.\nIt will process your input files line-by-line and create the appropriate accountin entries.</p>\n\n<p>After having found and configured an importer, you can wire it up quite easily in <code class=\"language-plaintext highlighter-rouge\">import.config</code>. Here is how it looks for me:</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-python\" data-lang=\"python\"><span class=\"kn\">import</span> <span class=\"nn\">sys</span>\n<span class=\"kn\">from</span> <span class=\"nn\">os</span> <span class=\"kn\">import</span> <span class=\"n\">path</span>\n<span class=\"n\">sys</span><span class=\"p\">.</span><span class=\"n\">path</span><span class=\"p\">.</span><span class=\"n\">insert</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">path</span><span class=\"p\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"p\">.</span><span class=\"n\">dirname</span><span class=\"p\">(</span><span class=\"n\">__file__</span><span class=\"p\">)))</span> \n\n<span class=\"kn\">from</span> <span class=\"nn\">importers.n26</span> <span class=\"kn\">import</span> <span class=\"n\">N26Importer</span>\n<span class=\"kn\">from</span> <span class=\"nn\">importers.csv_camt</span> <span class=\"kn\">import</span> <span class=\"n\">CsvCamtImporter</span>\n\n<span class=\"n\">CONFIG</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"n\">N26Importer</span><span class=\"p\">(</span>\n        <span class=\"s\">'XXXXXXMYIBANXXXXXXXXX'</span><span class=\"p\">,</span>\n        <span class=\"s\">'Assets:N26'</span><span class=\"p\">,</span>\n        <span class=\"n\">language</span><span class=\"o\">=</span><span class=\"s\">'de'</span><span class=\"p\">,</span>\n        <span class=\"n\">file_encoding</span><span class=\"o\">=</span><span class=\"s\">'utf-8'</span><span class=\"p\">,</span>\n    <span class=\"p\">),</span>\n    <span class=\"n\">CsvCamtImporter</span><span class=\"p\">(</span>\n        <span class=\"s\">'XXXXXXMYIBAN2XXXXXXXX'</span><span class=\"p\">,</span>\n        <span class=\"s\">'Assets:Sparkasse'</span>\n    <span class=\"p\">)</span>\n<span class=\"p\">]</span></code></pre></figure>\n\n<p>This tells beancount the following:\n“Please use these two importers when importing transactions.\nThe importers will tell you whether they are capable of importing a given file, so the right one will get selected automatically.”</p>\n\n<h1 id=\"data-ingestion\">Data ingestion</h1>\n<p>A month has passed while you tried to set this up, so now you have a month’s worth of data ;-)</p>\n\n<p>Download it as CSV, and save it under <code class=\"language-plaintext highlighter-rouge\">raw/n26-01-21.csv</code>.\nThen, you can append the plain text ledger to the <code class=\"language-plaintext highlighter-rouge\">n26.beancount</code> file:</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-shell\" data-lang=\"shell\">bean-extract import.config raw/n26-01-21.csv <span class=\"o\">&gt;&gt;</span> n26.beancount</code></pre></figure>\n\n<p>I recommend checking the output in the beginning, as categories could be wrong. Maybe you notice some patterns that can help you automatically categorize transactions inside the importer. I did that and it saves quite a bit of work.</p>\n\n<h1 id=\"data-visualization\">Data visualization</h1>\n<p>Here is why I picked beancount: <a href=\"https://beancount.github.io/fava/\">fava</a>.\nIt’s a great visualization frontend for beancount ledgers. After adding a month’s worth of data, I just fire it up and can analyze what happened.</p>\n\n<p>If you’d like to do so, too, simply install it and run:</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-shell\" data-lang=\"shell\">fava main.beancount</code></pre></figure>",
      "excerpt": "As a financially avid reader, I am sure that you can roughly say how much money you need for a month.\nYou can assist your gut feeling with tools like Kmymoney, Homebank, GnuCash et al. to know exactly how much it is that you spend and earn per month.\nHowever, the aforementioned tools have a common shortcoming, at least in my opinion:\nThey use different data formats to store data.\nIf the software reaches end of life, you could lose months or even years of transactional data because you might not be able to extract it from the old storage format.",
      "languages": null,
      "categories": ["blog"],
      "tags": ["beancount"]
    }
    
  

  
    ,
    {
      "title": "Tracking your money made easy",
      "permalink": "https://flxw.de/tracking-finances-made-easy.html",
      "link": "https://flxw.de/tracking-finances-made-easy.html",
      "date": "2020-12-26T00:00:00+01:00",
      
        "modified": "2022-10-25T09:43:01+02:00",
      
      "author": {
        "name": "Felix Wolff",
        "url": "https://flxw.de/",
        "email": "wolff.felix@proton.me"
      },
      "content": "<p>A couple of years ago, I started getting more and more into understanding how the financial system works,\nwhat inflation is, what the central banks do, etc, pp.\nFinally I ended getting a lot more thorough in terms of looking into where my money and time goes.\nI would like to highlight the account structure and the two tools I have been using every since in this article.\nI believe that the whole setup is fairly simple and can be used by anybody, so I would like to share it.\nFor every piece of the two-part system, I will first give a general description and then a bit of detail how I do it.</p>\n\n<p>It is based on a few assumptions:</p>\n<ol>\n  <li>You got one or more bank accounts that you use mainly for spending.</li>\n  <li>It is possible to export the transactions from these accounts as CSV</li>\n  <li>The saved money goes onto the security accounts for later investing or just storage</li>\n  <li>You have one or more security accounts and checking accounts associated with them, and these accounts are only used for buying/selling securities</li>\n</ol>\n\n<p>What comes out of this is what I call a cashflow system.\nIf you have read Robert Kiyosakis <em>Rich Dad, Poor Dad</em>, you know what I am referring to.\nIf not or you need a refresher, just google <em>Cashflow Quadrant</em>.</p>\n\n<h1 id=\"what-a-cashflow-system-could-look-like\">What a cashflow system could look like</h1>\n<p>What I described in general terms above looks like this for me:</p>\n\n<p><img src=\"/assets/img/cashflow-system.jpg\" alt=\"\" /></p>\n\n<p>The income goes to an account that I refer to as <em>reserve account</em>.\nIt always holds 2-3 salaries that should only be touched as a last resort, e.g. when I lose my job or something serious happens.\nThe <em>reserve</em> feeds money onto my <em>budget account</em> for daily expenses on a monthly basis.\nWhat’s left of the income goes onto the deposit account for later investing.</p>\n\n<p>Generally speaking, there are two categories here: spending and investing.<br />\n<strong>Category I</strong> is about spending. There will be high volume of spendtransactions, because I like to have every penny tracked and pay as little as possible with cash.\nThat’s also why the CSV export is so important - you do not want to enter this by hand.\nThis will be covered in the first part.<br />\n<strong>Category II</strong> is about tracking your net worth. It’s separate because it is irrelevant for spend analysis and the volume of transactions is comparably small.\nIt will be covered in the second part.</p>\n\n<h1 id=\"step-1-spend-analysis\">Step 1: Spend analysis</h1>\n<p><strong>The tool:</strong>\nWith <a href=\"https://kmymoney.org/\">kmymoney</a>, it is possible to analyze your transactions in detail and categorize them easily.\nWhy am I recommending this instead of moneydance, homebank, lime and all the others?\nSimple: CSV IMPORT AND MULTIPLE ACCOUNTS! These are simple but vital features that save you time and headache :)\nYou can even track securities and investments in kmymoney but I wouldn’t recommend doing so.</p>\n\n<p>Just import your CSV exports from your spending accounts there, enter the categories for the transactions and reconcile the amounts.\nThen you can directly analyze your spend.</p>\n\n<p><strong>How I use it:</strong>\nAt the end of every month, I save the CSV exports from the accounts on my machine and import them into kmymoney.\nAfter checking the categories and reconciling the final account balances, I can check the analysis.\nWhat’s especially important to me is the savings rate, i.e. how much of my income was not spent.</p>\n\n<p>Tip #1: Do not delete the exports. They contain nice data that you can use to migrate to a different software later and keep all history.<br />\nTip #2: Have the categorization done by your bank, this is why I went with N26 a few years ago.</p>\n\n<p>I have recently begun to explore <a href=\"http://furius.ca/beancount/\">beancount</a> as an alternative because the work of reconciliating accounts and transactions between my accounts became too monotonous.\nIn combination with <a href=\"https://beancount.github.io/fava/\">Fava</a>, the UI is quite nice.\nIt allows me to automate the whole CSV processing without needing to reconciliate a few transactions that went onto the wrong account.\nThe setup is very time-consuming though, so I will always recommend <em>kmymoney</em> first.</p>\n\n<h1 id=\"step-2-security-analysis\">Step 2: Security analysis</h1>\n<p><strong>The tool:</strong>\nNow that you know your savings rate and main cost drivers, you can think about what you want to do with the rest of the money.\nMost likely you will buy something instead of leaving the money on some account, having it succumb to inflation.\nI found <a href=\"https://www.portfolio-performance.info/\">Portfolio Performance</a> to be super easy to use and have very useful features.\nThe best is arguable the auto-update of stock prices - nowhere else have I seen it this easy.</p>\n\n<p>To track something, just enter the price, fees and taxes associated with your transaction.\nThat’s why the expected low volume of transactions mentioned above is key for this approach.\nThe nice thing is that you needn’t track stocks.\nThe software allows you to create any category, so you could also see your worth in houses or cars.\nAnything that’s not on the budget or reserve accounts should be in here.</p>\n\n<p>Just download the software.\nThere are example files included that give you an idea of what you could do or track with it.</p>\n\n<p><strong>How I use it:</strong>\nAfter setting up the spend analysis, I put in the security transactions for the month.\nPortfolio Performance allows me to easily check my asset allocation, so I can rebalance or adjust if necessary.</p>\n\n<h1 id=\"verdict\">Verdict</h1>\n<p>This article showed you how to structure your accounts into income/expense accounts and the tools to track accordingly.\nWhat is a flaw, in my opinion, is that there is never a complete picture of your accounts.\nPortfolio performance doesn’t know about the expenses in kmymoney and vice versa.</p>\n\n<p>I do not believe that this is a huge problem, however.\nIf you look at it, there should only ever be 2-4 months of salary inside the spend analysis.\nThe majority of your money should be somewhere in the security analysis.\nWith the level of transparency that you get here, I believe that it is a small price to always add 3x your salary onto the number that Portfolio Performance gives you.</p>\n\n<p>Thanks for reading the first post since five years!\nIf you have any comments, please reach out to me via the contact details on the landing page!</p>",
      "excerpt": "A couple of years ago, I started getting more and more into understanding how the financial system works,\nwhat inflation is, what the central banks do, etc, pp.\nFinally I ended getting a lot more thorough in terms of looking into where my money and time goes.\nI would like to highlight the account structure and the two tools I have been using every since in this article.\nI believe that the whole setup is fairly simple and can be used by anybody, so I would like to share it.\nFor every piece of the two-part system, I will first give a general description and then a bit of detail how I do it.",
      "languages": null,
      "categories": ["blog"],
      "tags": ["beancount"]
    }
    
  

  
    ,
    {
      "title": "Upgrading Guide: v1.1.0",
      "permalink": "https://flxw.de/upgrading-guide-v1.1.0.html",
      "link": "https://flxw.de/upgrading-guide-v1.1.0.html",
      "date": "2017-01-07T00:00:00+01:00",
      
        "modified": "2022-10-22T15:05:10+02:00",
      
      "author": {
        "name": "Felix Wolff",
        "url": "https://flxw.de/",
        "email": "wolff.felix@proton.me"
      },
      "content": "<p>There’re some significant changes in update v1.1.0, action required after you upgrade Almace Scaffolding.</p>\n\n<p>In your front-matter fields:</p>\n\n<ul>\n  <li>Replace all <code class=\"language-plaintext highlighter-rouge\">svg-headline</code>, <code class=\"language-plaintext highlighter-rouge\">img-headline</code> with <code class=\"language-plaintext highlighter-rouge\">heading-img</code>.</li>\n  <li>Replace all <code class=\"language-plaintext highlighter-rouge\">svg-headline-width</code>, <code class=\"language-plaintext highlighter-rouge\">img-headline-width</code> with <code class=\"language-plaintext highlighter-rouge\">heading-img-width</code>.</li>\n  <li>Remove all <code class=\"language-plaintext highlighter-rouge\">svg-headline-height</code>, <code class=\"language-plaintext highlighter-rouge\">img-headline-height</code> as they’re deprecated and no longer available.</li>\n  <li>Add <code class=\"language-plaintext highlighter-rouge\">heading-img-local: true</code> if images are stored right inside your project.</li>\n</ul>\n\n<p>Check the following front-matter data for post thumbnails:</p>\n\n<ul>\n  <li>Replace all <code class=\"language-plaintext highlighter-rouge\">thumb</code> with <code class=\"language-plaintext highlighter-rouge\">thumbnail</code>.</li>\n  <li>Add <code class=\"language-plaintext highlighter-rouge\">thumb/</code> prefix to your filename, ie. <code class=\"language-plaintext highlighter-rouge\">thumbnail: thumb/my-post.png</code>.</li>\n  <li>Add <code class=\"language-plaintext highlighter-rouge\">thumbnail-local: true</code> if thumbnails are stored right inside your project.</li>\n</ul>",
      "excerpt": "There’re some significant changes in update v1.1.0, action required after you upgrade Almace Scaffolding.",
      "languages": null,
      "categories": ["news"],
      "tags": []
    }
    
  

  
    ,
    {
      "title": "Why I am done with smart watches",
      "permalink": "https://flxw.de/why-i-am-done-with-smartwatches.html",
      "link": "https://flxw.de/why-i-am-done-with-smartwatches.html",
      "date": "2015-11-15T00:00:00+01:00",
      
        "modified": "2022-10-22T15:05:10+02:00",
      
      "author": {
        "name": "Felix Wolff",
        "url": "https://flxw.de/",
        "email": "wolff.felix@proton.me"
      },
      "content": "<p>It is a thing more and more common. People casually chatting, operating their\nvarious electronic devices simultaneously. When was the last time that you felt you had\nthe full attention of someone? It probably wasn’t when they were caressing their\ntouchscreens with their fingertips. This is an essay on conversational\nquality and smart devices making us dumber. Dump your smartwatch.</p>\n\n<p>As a technolgically affine person, I was naturally amazed by the possibility to\nwear a computer on my wrist! It was October in the year 2014 and Motorola was about to\nrelease their super-hyped smartwatch <em>Moto 360</em>. It was shown at Google I/O 2014 and reception\nwas spectacular. The same momentum has built up for its <a href=\"http://www.wareable.com/smartwatches/motorola-moto-360-2-release-date-price-specs-725\">successor</a>.</p>\n\n<p>And so, I found a Moto 360 special edition under the christmas tree. One\nof the most beautiful smartwatches ever. And from there on, amazement went downhill.</p>\n\n<h2 id=\"tilt-sensors\">Tilt sensors</h2>\n<p><em>To activate their displays, most smartwatches (including the Apple Watch)\nrely on tilt sensors. This helps them save battery.</em></p>\n\n<p>Well, but who flicks their wrist in an awkwardly strong motion to know the time?\nJust right - no one. Only die-hard Apple fans are portraying awkward movements to\npay tribute to their timepiece.\nEvery watchwearer just takes a short <em>glance</em> at their timepiece,\nand will never <em>stare</em> at their wrist hard.</p>\n\n<h2 id=\"power-and-stability\">Power and stability</h2>\n<p><em>“Excuse me, may I ask you for the time?”</em><br />\n  <em>“Give me a few minutes, my watch just crashed.”</em></p>\n\n<p>Not a joke, this first-world-problem happened to me more than once.\nSitting on my wrist, doing nothing all day, the small computer\nis so surprised at being needed that it instantly flips a bit.\nSince UIs for watches have never been developed, it is no wonder that\nthere is lacking feedback. Oh, and of course one should never\nforget to recharge it in the evening, if one does not want to wear\na very expensive bracelet the next afternoon.</p>\n\n<h1 id=\"real-world-integration\">Real world integration</h1>\n<p>In all the promotion, life with a smartwatch is supposed to be made easier in the real world.\nContactless payment, calls, etc. All the lot that takes time off our hands.\nYet, there are few apps for smartwatches that give you a hand in reallife.\nOne example would be the <a href=\"https://play.google.com/store/apps/details?id=com.hole19golf.hole19.beta\">Hole19 golf score tracker</a>.\nThe app is great, but the score counter for the watch made me feel clunkier than\never on the course.</p>\n\n<p>Another example would be the <a href=\"https://play.google.com/store/apps/details?id=de.stocard.stocard\">Stocards app</a>,\nan application for slimming your wallet by digitizing benefit/award cards.\nThe app for the phone is again: great. Even the Android Wear implementation\nis straightforward but: No supermarket I have been to has had scanners able to read the\ntiny barcode off the screen. Bummer.</p>\n\n<h2 id=\"notification-barrages\">Notification barrages</h2>\n<p>Our phone is abuzz with notifications from the happenings of almost any social network that we are part of.\nAnd all this buzz will make your wrist ring with delight. A message here,\nan email there, a calendar reminder, etc. Anything that your phone can tell you will now\nsit at your wrist. <em>Awesome</em>, you may think, and this is the exact reason for which I bought my\nsmartwatch.</p>\n\n<p>Imagine you have just received a message. You glance at your watch, be it right after the watch\nbuzzed, or anytime after. Chances are that you will read it. Now you have the information at\nthe top of your head, and what you have done previosly has already been interrupted by this context\nswitch. Will you respond to the message?</p>\n\n<h2 id=\"on-conversational-quality\">On conversational quality</h2>\n<p>You will very likely respond, since you are thinking about it anyway.\nThe phone is only a flick of the wrist away and there you are:\nHaving completely abandoned what you were doing, mentally\nenslaved by your minds wish to wander to easy tasks.\nYou are serving your watch. A watch that is not even serving you,\nit is not even collecting any useful health data.\nThe world might not have caught up with wearable technology yet - until now\nit is simply not worth it.</p>\n\n<p>It is no wonder that more and more dystopic versions of communications technolgy\nare produced by artists. Take a look at this very popular\n<a href=\"http://antoinegeiger.com/filter/photo/SUR-FAKE\">photo series</a> by Antoine Geiger.\nYou will probably see yourself in one of those pictures.</p>\n\n<p>Even advertising has found this to be worthy a topic. It makes me feel guilty.\nDoes it make you feel the same?</p>\n\n<p>There are numerous studies out there that will prove that emotional bonding\nand conversational variety will strongly decrease with smartphones on the table.</p>\n\n<p><em>Look it up now, this article will still be here when you come back.</em></p>\n\n<p>Living without those devices has become impossible in our professional world.\nI will not suggest you to go and drop all your tech in a bin and light a campfire.\nI want to raise awareness for your human surroundings and the richness of\nexchange that you are missing because of coldly lit displays.</p>\n\n<p>Now put away the device with which you read this and say hello to the person next to you,\neven if it is a stranger. Conversation is beautiful, most notably if it shall not serve\na higher purpose.</p>",
      "excerpt": "It is a thing more and more common. People casually chatting, operating their\nvarious electronic devices simultaneously. When was the last time that you felt you had\nthe full attention of someone? It probably wasn’t when they were caressing their\ntouchscreens with their fingertips. This is an essay on conversational\nquality and smart devices making us dumber. Dump your smartwatch.",
      "languages": null,
      "categories": ["blog"],
      "tags": []
    }
    
  

  
    ,
    {
      "title": "Excel Analysis with HANA data",
      "permalink": "https://flxw.de/setting-up-ms-office-excel-analysis-with-HANA.html",
      "link": "https://flxw.de/setting-up-ms-office-excel-analysis-with-HANA.html",
      "date": "2015-09-25T00:00:00+02:00",
      
        "modified": "2022-10-22T15:52:11+02:00",
      
      "author": {
        "name": "Felix Wolff",
        "url": "https://flxw.de/",
        "email": "wolff.felix@proton.me"
      },
      "content": "<p>Here at my SAP internship, I want to connect Analysis for Excel with\nSAP HANA. Unfortunately, this fairly simple procedure is the ultimate example for\nbad documentation, and I want to note down my approach here for getting it to work.</p>\n\n<p>The following is for Analysis for Excel versions <strong>2.0 and greater</strong> (<a href=\"http://scn.sap.com/docs/DOC-63785\">why</a>)</p>\n\n<ol>\n<li>Make sure Analysis for Excel is up to date. An obvious step but you don't want any version conflicts after having it set up.</li>\n<li>Install the <em>HANA Client for Excel</em> from <a href=\"https://support.sap.com/software/installations.html\">here</a> (Click <em>Search for Software</em>)</li>\n<li>Grant your database user the required privileges for accessing HANA via Excel through HTTP (<a href=\"http://scn.sap.com/community/businessobjects-analysis-ms-office/blog\">why</a>)\n\n<ol>\n<li>Import the delivery unit <em>AHCO_INA_SERVICE.tgz</em> from the server</li>\n<li>Add the <em>INA_USER</em> role to your user under the <em>granted roles</em> section</li>\n<li>Add the object privileges <em>_SYS_BI</em>, <em>_SYS_BIC</em> and <em>_SYS_RT</em> to your user and enable the <em>SELECT</em> checkbox for those</li>\n</ol></li>\n<li>Open Analysis for Excel (<a href=\"http://scn.sap.com/docs/DOC-63784\">see images</a>)\n\n<ol>\n<li>Click the <em>Analysis</em> tab</li>\n<li>Hit the <em>Insert Data Source</em> and <em>Select Data Source...</em></li>\n<li>Right-click inside the selection menu, and <em>Create new SAP HANA connection...</em></li>\n<li>Enter your credentials and the selection menu for views should pop up</li>\n</ol></li>\n</ol>",
      "excerpt": "Here at my SAP internship, I want to connect Analysis for Excel with\nSAP HANA. Unfortunately, this fairly simple procedure is the ultimate example for\nbad documentation, and I want to note down my approach here for getting it to work.",
      "languages": null,
      "categories": ["blog"],
      "tags": []
    }
    
  

  
    ,
    {
      "title": "Vision for wearable device apps",
      "permalink": "https://flxw.de/my-vision-on-wearables.html",
      "link": "https://flxw.de/my-vision-on-wearables.html",
      "date": "2015-09-11T00:00:00+02:00",
      
        "modified": "2022-10-25T09:43:01+02:00",
      
      "author": {
        "name": "Felix Wolff",
        "url": "https://flxw.de/",
        "email": "wolff.felix@proton.me"
      },
      "content": "<p>Having looked at wearables intensively for several weeks, I want to share my vision\nof how they should be developed further. Being mere data displays until now, wearable technology\nhas the potential to be so much more. Making data actionable is what I am talking about.</p>\n\n<p>Wearables I have looked at include: Withings Ox, Fitbits Charge HR, Motorolas Moto 360\nand the Misfit Shine. All of these feature step and sleeptracking capabilities\nand have accompanying feature-rich applications doing a good job at\nvisualizing the collected data.</p>\n\n<p>Just take a look at the gorgeous graph web-based Google Fit draws for\nmy step data (as of September 2015):</p>\n\n<p><img src=\"/assets/img/wearables-walk-stat.png\" alt=\"Google Fit walking statistics\" /></p>\n\n<p>The data displayed is very clear. It displays how many steps I have made\neach day within a week.\nWe can view a similar graph for the day before, the day before that,\nthe week before that, some months back and so on. We can\nalso view monthly statistics.</p>\n\n<p>Would we be able to derive actionable insights from the data? What use is six months worth\nof data if you have no clue about how to read it? Does it deliver any value besides “Oh that is a lot”\nor “oh that is not so much”? Machines are very good at deriving\npatterns from great amounts of data - and I believe that this capability should be put to use.</p>\n\n<p><em>Providing background information</em></p>\n\n<p>Let’s have a look at this graph of sleep information.\nIt tells me when I experienced deep sleep and light sleep and when my body moved during sleeping.\nNow I can see when I entered a different sleep phase. But what will I do with this information?\nCan I improve my sleep based on this data? I <em>could</em>, if I knew how.</p>\n\n<p><em>Giving actionable advice</em></p>\n\n<p>I could make changes if I knew about basic sleep mechanisms and how behaviour before going to bed affects sleep.\nCertainly no secret, the blue light emitted by electronic devices affects our sleep in a <a href=\"http://www.health.harvard.edu/staying-healthy/blue-light-has-a-dark-side\">bad way</a>.\nWouldn’t it be great if such an insight was shared with users of the app?</p>\n\n<p>I believe that the user should not have to have to analyze the data himself (although he should certainly have the possibility to do so),\nbut that analytics should give actionable advice, if it can be given. This way, a source\nfor information overload is reduced and the matter is only brought to our attention if\nit is demanding. One possibility might be via simple Google Now Card:</p>\n\n<p><img src=\"/assets/img/wearables-google-now-advice.png\" alt=\"Google Now Card sleep advice\" /></p>\n\n<p>There is already an app that does something in that direction. <a href=\"https://play.google.com/store/apps/details?id=com.urbandroid.sleep\">Sleep as Android</a> gives recommendations on how to catch up on sleep deficit, although\nthese tips are standardized and not tailored to ones demands.</p>\n\n<p>If anyone of Misfit, Fitbit, Withings, Google or Motorola reads this: These devices are great!\nTeam up with some fitness experts and give your product an edge over the competition!\nWhat makes a tracker really valuable is the data analytics, not the hardware. Take a look\nat <a href=\"http://freeletics.com\">Freeletics</a> for example. They provide members with weekly tips and insights\nin bodily functions and regeneration mechanics. This information could easily be reused in\nyour applications!</p>",
      "excerpt": "Having looked at wearables intensively for several weeks, I want to share my vision\nof how they should be developed further. Being mere data displays until now, wearable technology\nhas the potential to be so much more. Making data actionable is what I am talking about.",
      "languages": null,
      "categories": ["blog"],
      "tags": []
    }
    
  

  
    ,
    {
      "title": "Making nginx act as an SMTP relay",
      "permalink": "https://flxw.de/nginx-smtp-relay.html",
      "link": "https://flxw.de/nginx-smtp-relay.html",
      "date": "2014-09-04T00:00:00+02:00",
      
        "modified": "2022-10-22T15:05:10+02:00",
      
      "author": {
        "name": "Felix Wolff",
        "url": "https://flxw.de/",
        "email": "wolff.felix@proton.me"
      },
      "content": "<p>To test an application out in the wild I had to host it on my server.\nAs it receives and processes email via SMTP, it needed access to port 25.</p>\n\n<p>I did not bother learning and installing some tool that makes sub-1000 ports\navailable to applications without superuser rights, and thus I made use\nof nginx’ capabilities.</p>\n\n<p>Inside the main <em>nginx.conf</em>, I added a section for email:</p>\n\n<div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>mail {\n    # See sample authentication script at:\n    # http://wiki.nginx.org/ImapAuthenticateWithApachePhpScript\n\n    # auth_http localhost/auth.php;\n    # pop3_capabilities \"TOP\" \"USER\";\n    # imap_capabilities \"IMAP4rev1\" \"UIDPLUS\";\n\n    auth_http http://127.0.0.1/mail/auth;\n    xclient off;\n    proxy_pass_error_message on;\n\n    server {\n        listen     25;\n        protocol   smtp;\n        timeout    5s;\n        proxy      on;\n        xclient    off;\n        smtp_auth  none;\n        so_keepalive on;\n    }\n}\n</code></pre></div></div>\n\n<p>Each of the configurations for my sites are loaded as individual modules, like it is the case with Apache.\nInside the configuration that handles the default behaviour for the web server, the following route was established.\nIt tells the mail client where to find the SMTP server. This can also be equipped with more logic to make it act as a load balancer.</p>\n\n<div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>    location = /mail/auth {\n            set $reply ERROR;\n\n            if ($http_auth_smtp_to ~ flxw.de) {\n                set $reply OK;\n            }\n\n            add_header Auth-Status OK;\n            add_header Auth-Server 127.0.0.1;\n            add_header Auth-Port 2525;\n            add_header Auth-Wait 1;\n            return 204;\n        }\n</code></pre></div></div>\n\n<p>And finally there is the configuration file for the web app itself.</p>\n\n<div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>upstream app.myapp.de {\n    server 127.0.0.1:8080;\n}\n\n# the nginx server instance\nserver {\n    listen 0.0.0.0:80;\n    server_name myapp.flxw.de;\n    access_log /var/log/nginx/myapp.mydomain.de.log;\n\n    auth_basic  \"Restricted\";\n    auth_basic_user_file /etc/nginx/htpasswd;\n\n    # pass the request to the node.js server with the correct headers and much more can be added, see nginx config options\n    location / {\n      proxy_set_header X-Real-IP $remote_addr;\n      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n      proxy_set_header Host $http_host;\n      proxy_set_header X-NginX-Proxy true;\n\n      proxy_pass http://myapp.mydomain.de/;\n      proxy_redirect off;\n    }\n }\n</code></pre></div></div>",
      "excerpt": "To test an application out in the wild I had to host it on my server.\nAs it receives and processes email via SMTP, it needed access to port 25.",
      "languages": null,
      "categories": ["blog"],
      "tags": []
    }
    
  

  
    ,
    {
      "title": "Booting Windows 7+ from USB",
      "permalink": "https://flxw.de/install-windows-7+-from-usb.html",
      "link": "https://flxw.de/install-windows-7+-from-usb.html",
      "date": "2014-05-27T00:00:00+02:00",
      
        "modified": "2022-10-25T12:32:35+02:00",
      
      "author": {
        "name": "Felix Wolff",
        "url": "https://flxw.de/",
        "email": "wolff.felix@proton.me"
      },
      "content": "<p>Everytime I try to install Windows from a USB stick, I forget a simple step\nin making the stick bootable and another few minutes are wasted searching for the solution.\nThis is just a short note on how to get your USB-Stick set up for installing Windows from it.</p>\n\n<p>Read these few lines to save yourself some time:</p>\n\n<div class=\"language-bash highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>fdisk /dev/sdb\n<span class=\"c\"># create a single new partition taking all the space on the stick</span>\n<span class=\"c\"># make it of type 7 (Windows/NTFS) and set its bootable flag</span>\nmkfs.ntfs <span class=\"nt\">-f</span> /dev/sdb1\nms-sys <span class=\"nt\">-7</span> /dev/sdb\n<span class=\"nb\">mkdir</span> /tmp/winiso\nmount <span class=\"nt\">-o</span> loop winimage.iso /tmp/winiso\nmount /dev/sdb1 /mnt/usb1\n<span class=\"nb\">cp</span> <span class=\"nt\">-rav</span> /tmp/winiso/<span class=\"k\">*</span> /mnt/usb1\n</code></pre></div></div>\n\n<p>In case you do not have <em>ms-sys</em> installed, you can get it from <a href=\"http://ms-sys.sourceforge.net/\">here</a>.</p>",
      "excerpt": "Everytime I try to install Windows from a USB stick, I forget a simple step\nin making the stick bootable and another few minutes are wasted searching for the solution.\nThis is just a short note on how to get your USB-Stick set up for installing Windows from it.",
      "languages": null,
      "categories": ["blog"],
      "tags": ["oneliner"]
    }
    
  

  
    ,
    {
      "title": "Using a colorful terminal",
      "permalink": "https://flxw.de/color-your-term.html",
      "link": "https://flxw.de/color-your-term.html",
      "date": "2014-05-05T00:00:00+02:00",
      
        "modified": "2022-10-22T15:05:10+02:00",
      
      "author": {
        "name": "Felix Wolff",
        "url": "https://flxw.de/",
        "email": "wolff.felix@proton.me"
      },
      "content": "<p>An appeal to everyone to use colored terminals\nand do their eyes a favor.</p>\n\n<p>Computer scientists do get their hands dirty - <em>true</em></p>\n\n<p>Computer scientists do use tools that probably only a small fraction\nof the Internet users has ever heard of - <em>true</em></p>\n\n<p>But so do car  mechanics and just about every other engineer on this world.\nAnd everyone of them is trying to use the best tools available to them,\nor keep them in the best state possible.</p>\n\n<p>As the german saying goes - <em>an engineer is only as good as his tools</em></p>\n\n<p>So why are a lot of hackers still using <strong>black-and-white</strong> terminals?\nEmacs? Software from the 80s? Look at the time to which shells date back!</p>\n\n<!-- A lot of concepts from the past are so tweaked by now that they *cry* for an overhaul! -->\n\n<h2 id=\"do-yourself-a-favor-and-check-out-color-schemes\">do yourself a favor and check out color schemes</h2>\n<p>Your terminal emulator should be able to do more than black text on a white background.\nCheck out the list of color schemes below. I have tried them all over time and found them\nto be more or less useful. Currently I am using <em>solarized</em>:</p>\n\n<ul>\n  <li><a href=\"http://slinky.imukuppi.org/zenburn/\">zenburn</a></li>\n  <li><a href=\"http://ethanschoonover.com/solarized\">solarized</a></li>\n  <li><a href=\"https://github.com/w0ng/vim-hybrid\">hybrid.vim</a></li>\n  <li><a href=\"https://github.com/ChrisKempson/Tomorrow-Theme\">TomorrowNightEighties</a></li>\n  <li><a href=\"http://color.smyck.org/\">Smyck</a></li>\n</ul>\n\n<h2 id=\"use-a-shell-that-works-with-you\">use a shell that works with you</h2>\n<p>You use your shell daily. There are dozens of shells superior to bash\nout there. <em>Use them</em>.</p>\n\n<p>Over the past, I have tested <a href=\"http://zsh.org\">zsh</a> and <a href=\"http://fishshell.com\">fish</a>.\nThe first allows you to get up to speed fairly quickly (in part due to the great documentation),\nbut the completion and directory naviagtion functionality is limited. I have come to love zsh for these features.\nWhile its configuration looks like hell, it is very fast and powerful.</p>\n\n<p>The zsh community has begun the trend of the <em>Oh My Shell</em> configuration collections.\nThey exist for both shells and allow you to get up to speed very quickly:</p>\n\n<ul>\n  <li><a href=\"https://github.com/robbyrussell/oh-my-zsh\">Oh My Zsh</a></li>\n  <li><a href=\"https://github.com/bpinto/oh-my-fish\">Oh My Fish</a></li>\n</ul>\n\n<h2 id=\"help-making-things-beautiful\">help making things beautiful</h2>\n<p>While these things certainly improve the current situation, new tools ought to be made.\nThere are lots of beautiful ideas out there, for improving terminals or shells.</p>\n\n<p>An idea I fancy especially is <a href=\"http://finalterm.org/\">FinalTerm</a></p>\n\n<p>Either way, everybody loves beautiful tools. So if you have an idea to improve,\nor build an entirely new one - don’t hesitate! The worst thing that might happen is you learning something ;-)</p>",
      "excerpt": "An appeal to everyone to use colored terminals\nand do their eyes a favor.",
      "languages": null,
      "categories": ["blog"],
      "tags": []
    }
    
  


]
