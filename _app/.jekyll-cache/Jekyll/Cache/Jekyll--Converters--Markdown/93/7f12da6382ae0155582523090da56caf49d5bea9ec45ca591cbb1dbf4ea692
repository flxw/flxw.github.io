I"õ
<p>If you use <code class="language-plaintext highlighter-rouge">external-secrets</code> to sync secrets from some a key management
system like AWS KMS or Vault into your cluster,
you have become familiar with the <code class="language-plaintext highlighter-rouge">ExternalSecret</code> object introduced by it.</p>

<p>In case you want to sync a secret that has multiple lines,
you need to encode the secret <em>inside</em> your KMS,
and decode it inside the <code class="language-plaintext highlighter-rouge">ExternalSecret</code> using a <code class="language-plaintext highlighter-rouge">decodingStrategy</code>.
The values will be base64-encoded again by k8s when the <code class="language-plaintext highlighter-rouge">Secret</code> gets created.</p>

<p>An example would as follows (taken from <a href="https://external-secrets.io/v0.6.1/guides/decoding-strategy/">here</a>):</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>KMS secret value: aGFwcHkgc3RyZWV0
ExternalSecret decodes it: happy street
k8s Secret data: aGFwcHkgc3RyZWV0
Application reads: happy street
</code></pre></div></div>

<p>Please see the following object definition for a complete definition:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">external-secrets.io/v1beta1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ExternalSecret</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">your-access-credentials</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">refreshInterval</span><span class="pi">:</span> <span class="s">1m</span>
  <span class="na">secretStoreRef</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">cluster-secrets-store</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">ClusterSecretStore</span>
  <span class="na">target</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">your-access-credentials</span>
  <span class="na">dataFrom</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">extract</span><span class="pi">:</span>
      <span class="na">key</span><span class="pi">:</span> <span class="s">svc/app/secret</span>
      <span class="na">decodingStrategy</span><span class="pi">:</span> <span class="s">Base64</span>
</code></pre></div></div>

<p>Note the colon that seperates the filepaths in <code class="language-plaintext highlighter-rouge">KUBECONFIG</code> - you can pass in more than one file.</p>
:ET